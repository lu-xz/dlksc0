{"remainingRequest":"C:\\Users\\陆小主\\Desktop\\dlkcw\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\陆小主\\Desktop\\dlkcw\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\陆小主\\Desktop\\dlkcw\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\陆小主\\Desktop\\dlkcw\\src\\components\\TopNav\\SidebarItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\陆小主\\Desktop\\dlkcw\\src\\components\\TopNav\\SidebarItem.vue","mtime":1741570206511},{"path":"C:\\Users\\陆小主\\Desktop\\dlkcw\\babel.config.js","mtime":1741570206490},{"path":"C:\\Users\\陆小主\\Desktop\\dlkcw\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741571479562},{"path":"C:\\Users\\陆小主\\Desktop\\dlkcw\\node_modules\\babel-loader\\lib\\index.js","mtime":1741571480837},{"path":"C:\\Users\\陆小主\\Desktop\\dlkcw\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741571479562},{"path":"C:\\Users\\陆小主\\Desktop\\dlkcw\\node_modules\\vue-loader\\lib\\index.js","mtime":1741571481108}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvXHU5NjQ2XHU1QzBGXHU0RTNCL0Rlc2t0b3AvZGxrY3cvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7CmltcG9ydCB7IGlzRXh0ZXJuYWwgfSBmcm9tICdAL3V0aWxzL3ZhbGlkYXRlJzsKaW1wb3J0IEl0ZW0gZnJvbSAnLi9JdGVtJzsKaW1wb3J0IEFwcExpbmsgZnJvbSAnLi9MaW5rJzsKaW1wb3J0IEZpeGlPU0J1ZyBmcm9tICcuL0ZpeGlPU0J1Zyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU2lkZWJhckl0ZW0nLAogIGNvbXBvbmVudHM6IHsKICAgIEl0ZW06IEl0ZW0sCiAgICBBcHBMaW5rOiBBcHBMaW5rCiAgfSwKICBtaXhpbnM6IFtGaXhpT1NCdWddLAogIHByb3BzOiB7CiAgICAvLyByb3V0ZSBvYmplY3QKICAgIGl0ZW06IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGlzTmVzdDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGJhc2VQYXRoOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB0aGlzLm9ubHlPbmVDaGlsZCA9IG51bGw7CiAgICByZXR1cm4ge307CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYXNPbmVTaG93aW5nQ2hpbGQ6IGZ1bmN0aW9uIGhhc09uZVNob3dpbmdDaGlsZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBjaGlsZHJlbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107CiAgICAgIHZhciBwYXJlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDsKCiAgICAgIGlmICghY2hpbGRyZW4pIHsKICAgICAgICBjaGlsZHJlbiA9IFtdOwogICAgICB9CgogICAgICB2YXIgc2hvd2luZ0NoaWxkcmVuID0gY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0uaGlkZGVuKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIFRlbXAgc2V0KHdpbGwgYmUgdXNlZCBpZiBvbmx5IGhhcyBvbmUgc2hvd2luZyBjaGlsZCkKICAgICAgICAgIF90aGlzLm9ubHlPbmVDaGlsZCA9IGl0ZW07CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOyAvLyBXaGVuIHRoZXJlIGlzIG9ubHkgb25lIGNoaWxkIHJvdXRlciwgdGhlIGNoaWxkIHJvdXRlciBpcyBkaXNwbGF5ZWQgYnkgZGVmYXVsdAoKICAgICAgaWYgKHNob3dpbmdDaGlsZHJlbi5sZW5ndGggPT09IDEpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSAvLyBTaG93IHBhcmVudCBpZiB0aGVyZSBhcmUgbm8gY2hpbGQgcm91dGVyIHRvIGRpc3BsYXkKCgogICAgICBpZiAoc2hvd2luZ0NoaWxkcmVuLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMub25seU9uZUNoaWxkID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwYXJlbnQpLCB7fSwgewogICAgICAgICAgcGF0aDogJycsCiAgICAgICAgICBub1Nob3dpbmdDaGlsZHJlbjogdHJ1ZQogICAgICAgIH0pOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgcmVzb2x2ZVBhdGg6IGZ1bmN0aW9uIHJlc29sdmVQYXRoKHJvdXRlUGF0aCwgcm91dGVRdWVyeSkgewogICAgICAvLyBjb25zb2xlLmxvZyhyb3V0ZVBhdGgsJ3JvdXRlUGF0aCcpCiAgICAgIC8vIOaJgOaciei3r+eUsQogICAgICBpZiAoaXNFeHRlcm5hbChyb3V0ZVBhdGgpKSB7CiAgICAgICAgcmV0dXJuIHJvdXRlUGF0aDsKICAgICAgfQoKICAgICAgaWYgKGlzRXh0ZXJuYWwodGhpcy5iYXNlUGF0aCkpIHsKICAgICAgICByZXR1cm4gdGhpcy5iYXNlUGF0aDsKICAgICAgfQoKICAgICAgaWYgKHJvdXRlUXVlcnkpIHsKICAgICAgICB2YXIgcXVlcnkgPSBKU09OLnBhcnNlKHJvdXRlUXVlcnkpOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICBwYXRoOiBwYXRoLnJlc29sdmUodGhpcy5iYXNlUGF0aCwgcm91dGVQYXRoKSwKICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHJldHVybiBwYXRoLnJlc29sdmUodGhpcy5iYXNlUGF0aCwgcm91dGVQYXRoKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;AAEA;AACAA,qBADA;AAEAC;AAAAC;AAAAC;AAAA,GAFA;AAGAC,qBAHA;AAIAC;AACA;AACAC;AACAC,kBADA;AAEAC;AAFA,KAFA;AAMAC;AACAF,mBADA;AAEAG;AAFA,KANA;AAUAC;AACAJ,kBADA;AAEAG;AAFA;AAVA,GAJA;AAmBAE,MAnBA,kBAmBA;AACA;AACA;AACA,GAtBA;AAuBAC;AACAC,sBADA,gCACA;AAAA;;AAAA;AAAA;;AACA;AACAC;AACA;;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA,OARA,EAJA,CAcA;;AACA;AACA;AACA,OAjBA,CAmBA;;;AACA;AACA;AAAAC;AAAAC;AAAA;AACA;AACA;;AAEA;AACA,KA3BA;AA4BAC,eA5BA,uBA4BAC,SA5BA,EA4BAC,UA5BA,EA4BA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AAAAJ;AAAAK;AAAA;AACA;;AACA;AACA;AA1CA;AAvBA","names":["name","components","Item","AppLink","mixins","props","item","type","required","isNest","default","basePath","data","methods","hasOneShowingChild","children","path","noShowingChildren","resolvePath","routePath","routeQuery","query"],"sourceRoot":"src/components/TopNav","sources":["SidebarItem.vue"],"sourcesContent":["<template>\n  <div v-if=\"!item.hidden\">\n    <template v-if=\"hasOneShowingChild(item.children,item) && (!onlyOneChild.children||onlyOneChild.noShowingChildren)&&!item.alwaysShow\">\n      <app-link v-if=\"onlyOneChild.meta\" :to=\"resolvePath(onlyOneChild.path, onlyOneChild.query)\">\n        <el-menu-item :index=\"resolvePath(onlyOneChild.path)\" :class=\"{'submenu-title-noDropdown':!isNest}\">\n          <item :icon=\"onlyOneChild.meta.icon||(item.meta&&item.meta.icon)\" :title=\"onlyOneChild.meta.title\" />\n        </el-menu-item>\n      </app-link>\n    </template>\n\n    <el-submenu v-else ref=\"subMenu\" :index=\"resolvePath(item.path)\" popper-append-to-body>\n      <template slot=\"title\">\n        <item v-if=\"item.meta\" :icon=\"item.meta && item.meta.icon\" :title=\"item.meta.title\" />\n      </template>\n      <sidebar-item\n        v-for=\"child in item.children\"\n        :key=\"child.path\"\n        :is-nest=\"true\"\n        :item=\"child\"\n        :base-path=\"resolvePath(child.path)\"\n        class=\"nest-menu\"\n      />\n    </el-submenu>\n  </div>\n</template>\n\n<script>\nimport path from 'path'\nimport { isExternal } from '@/utils/validate'\nimport Item from './Item'\nimport AppLink from './Link'\nimport FixiOSBug from './FixiOSBug'\n\nexport default {\n  name: 'SidebarItem',\n  components: { Item, AppLink },\n  mixins: [FixiOSBug],\n  props: {\n    // route object\n    item: {\n      type: Object,\n      required: true\n    },\n    isNest: {\n      type: Boolean,\n      default: false\n    },\n    basePath: {\n      type: String,\n      default: ''\n    }\n  },\n  data() {\n    this.onlyOneChild = null\n    return {}\n  },\n  methods: {\n    hasOneShowingChild(children = [], parent) {\n      if (!children) {\n        children = [];\n      }\n      const showingChildren = children.filter(item => {\n        if (item.hidden) {\n          return false\n        } else {\n          // Temp set(will be used if only has one showing child)\n          this.onlyOneChild = item\n          return true\n        }\n      })\n\n      // When there is only one child router, the child router is displayed by default\n      if (showingChildren.length === 1) {\n        return true\n      }\n\n      // Show parent if there are no child router to display\n      if (showingChildren.length === 0) {\n        this.onlyOneChild = { ... parent, path: '', noShowingChildren: true }\n        return true\n      }\n\n      return false\n    },\n    resolvePath(routePath, routeQuery) {\n      // console.log(routePath,'routePath')\n      // 所有路由\n      if (isExternal(routePath)) {\n        return routePath\n      }\n      if (isExternal(this.basePath)) {\n        return this.basePath\n      }\n      if (routeQuery) {\n        let query = JSON.parse(routeQuery);\n        return { path: path.resolve(this.basePath, routePath), query: query }\n      }\n      return path.resolve(this.basePath, routePath)\n    }\n  }\n}\n</script>\n<style scoped>\n::v-deep .nest-menu .el-submenu__title{\n    background: #000 !important;\n    color: #fff !important;\n}\n::v-deep .el-submenu__title {\n    background: none !important;\n    color: #fff !important;\n}\n::v-deep .el-menu-item,::v-deep .nest-menu .el-submenu__title,::v-deep .el-menu {\n    background: #86ab8d!important;\n    color: #fff !important;\n}\n::v-deep .el-menu{\n    margin-top: 4px;\n    background: none !important;\n}\n::v-deep .el-menu.el-menu--popup.el-menu--popup-bottom-start {\n    background: none !important;\n}\n::v-deep .el-menu {\n      background: #86ab8d !important;\n    color: #fff !important;\n}\n</style>\n\n"]}]}