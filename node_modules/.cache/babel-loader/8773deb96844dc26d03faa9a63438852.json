{"remainingRequest":"D:\\work\\dlksc\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\dlksc\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\work\\dlksc\\src\\store\\modules\\permission.js","dependencies":[{"path":"D:\\work\\dlksc\\src\\store\\modules\\permission.js","mtime":1741570207050},{"path":"D:\\work\\dlksc\\babel.config.js","mtime":1741570206490},{"path":"D:\\work\\dlksc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741571479562},{"path":"D:\\work\\dlksc\\node_modules\\babel-loader\\lib\\index.js","mtime":1741571480837},{"path":"D:\\work\\dlksc\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1741571479931}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCB7IGNvbnN0YW50Um91dGVzIH0gZnJvbSAnQC9yb3V0ZXInOwppbXBvcnQgeyBnZXRSb3V0ZXJzIH0gZnJvbSAnQC9hcGkvbWVudSc7CmltcG9ydCBMYXlvdXQgZnJvbSAnQC9sYXlvdXQvaW5kZXgnOwppbXBvcnQgUGFyZW50VmlldyBmcm9tICdAL2NvbXBvbmVudHMvUGFyZW50Vmlldyc7CmltcG9ydCBJbm5lckxpbmsgZnJvbSAnQC9sYXlvdXQvY29tcG9uZW50cy9Jbm5lckxpbmsnOwp2YXIgcGVybWlzc2lvbiA9IHsKICBzdGF0ZTogewogICAgcm91dGVzOiBbXSwKICAgIGFkZFJvdXRlczogW10sCiAgICBkZWZhdWx0Um91dGVzOiBbXSwKICAgIHRvcGJhclJvdXRlcnM6IFtdLAogICAgc2lkZWJhclJvdXRlcnM6IFtdCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIFNFVF9ST1VURVM6IGZ1bmN0aW9uIFNFVF9ST1VURVMoc3RhdGUsIHJvdXRlcykgewogICAgICBzdGF0ZS5hZGRSb3V0ZXMgPSByb3V0ZXM7CiAgICAgIHN0YXRlLnJvdXRlcyA9IGNvbnN0YW50Um91dGVzLmNvbmNhdChyb3V0ZXMpOwogICAgfSwKICAgIFNFVF9ERUZBVUxUX1JPVVRFUzogZnVuY3Rpb24gU0VUX0RFRkFVTFRfUk9VVEVTKHN0YXRlLCByb3V0ZXMpIHsKICAgICAgc3RhdGUuZGVmYXVsdFJvdXRlcyA9IGNvbnN0YW50Um91dGVzLmNvbmNhdChyb3V0ZXMpOwogICAgfSwKICAgIFNFVF9UT1BCQVJfUk9VVEVTOiBmdW5jdGlvbiBTRVRfVE9QQkFSX1JPVVRFUyhzdGF0ZSwgcm91dGVzKSB7CiAgICAgIC8vIOmhtumDqOWvvOiIquiPnOWNlem7mOiupOa3u+WKoOe7n+iuoeaKpeihqOagj+aMh+WQkemmlumhtQogICAgICB2YXIgaW5kZXggPSBbewogICAgICAgIHBhdGg6ICdpbmRleCcsCiAgICAgICAgbWV0YTogewogICAgICAgICAgdGl0bGU6ICfnu5/orqHmiqXooagnLAogICAgICAgICAgaWNvbjogJ2Rhc2hib2FyZCcKICAgICAgICB9CiAgICAgIH1dOwogICAgICBzdGF0ZS50b3BiYXJSb3V0ZXJzID0gcm91dGVzLmNvbmNhdChpbmRleCk7CiAgICB9LAogICAgU0VUX1NJREVCQVJfUk9VVEVSUzogZnVuY3Rpb24gU0VUX1NJREVCQVJfUk9VVEVSUyhzdGF0ZSwgcm91dGVzKSB7CiAgICAgIHN0YXRlLnNpZGViYXJSb3V0ZXJzID0gcm91dGVzOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgLy8g55Sf5oiQ6Lev55SxCiAgICBHZW5lcmF0ZVJvdXRlczogZnVuY3Rpb24gR2VuZXJhdGVSb3V0ZXMoX3JlZikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIC8vIOWQkeWQjuerr+ivt+axgui3r+eUseaVsOaNrgogICAgICAgIGdldFJvdXRlcnMoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIHZhciBzZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEpKTsKICAgICAgICAgIHZhciByZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEpKTsKICAgICAgICAgIHZhciBzaWRlYmFyUm91dGVzID0gZmlsdGVyQXN5bmNSb3V0ZXIoc2RhdGEpOwogICAgICAgICAgdmFyIHJld3JpdGVSb3V0ZXMgPSBmaWx0ZXJBc3luY1JvdXRlcihyZGF0YSwgZmFsc2UsIHRydWUpOwogICAgICAgICAgcmV3cml0ZVJvdXRlcy5wdXNoKHsKICAgICAgICAgICAgcGF0aDogJyonLAogICAgICAgICAgICByZWRpcmVjdDogJy80MDQnLAogICAgICAgICAgICBoaWRkZW46IHRydWUKICAgICAgICAgIH0pOwogICAgICAgICAgY29tbWl0KCdTRVRfUk9VVEVTJywgcmV3cml0ZVJvdXRlcyk7CiAgICAgICAgICBjb21taXQoJ1NFVF9TSURFQkFSX1JPVVRFUlMnLCBjb25zdGFudFJvdXRlcy5jb25jYXQoc2lkZWJhclJvdXRlcykpOwogICAgICAgICAgY29tbWl0KCdTRVRfREVGQVVMVF9ST1VURVMnLCBzaWRlYmFyUm91dGVzKTsKICAgICAgICAgIGNvbW1pdCgnU0VUX1RPUEJBUl9ST1VURVMnLCBzaWRlYmFyUm91dGVzKTsKICAgICAgICAgIHJlc29sdmUocmV3cml0ZVJvdXRlcyk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTsgLy8g6YGN5Y6G5ZCO5Y+w5Lyg5p2l55qE6Lev55Sx5a2X56ym5Liy77yM6L2s5o2i5Li657uE5Lu25a+56LGhCgpmdW5jdGlvbiBmaWx0ZXJBc3luY1JvdXRlcihhc3luY1JvdXRlck1hcCkgewogIHZhciBsYXN0Um91dGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTsKICB2YXIgdHlwZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7CiAgcmV0dXJuIGFzeW5jUm91dGVyTWFwLmZpbHRlcihmdW5jdGlvbiAocm91dGUpIHsKICAgIGlmICh0eXBlICYmIHJvdXRlLmNoaWxkcmVuKSB7CiAgICAgIHJvdXRlLmNoaWxkcmVuID0gZmlsdGVyQ2hpbGRyZW4ocm91dGUuY2hpbGRyZW4pOwogICAgfQoKICAgIGlmIChyb3V0ZS5jb21wb25lbnQpIHsKICAgICAgLy8gTGF5b3V0IFBhcmVudFZpZXcg57uE5Lu254m55q6K5aSE55CGCiAgICAgIGlmIChyb3V0ZS5jb21wb25lbnQgPT09ICdMYXlvdXQnKSB7CiAgICAgICAgcm91dGUuY29tcG9uZW50ID0gTGF5b3V0OwogICAgICB9IGVsc2UgaWYgKHJvdXRlLmNvbXBvbmVudCA9PT0gJ1BhcmVudFZpZXcnKSB7CiAgICAgICAgcm91dGUuY29tcG9uZW50ID0gUGFyZW50VmlldzsKICAgICAgfSBlbHNlIGlmIChyb3V0ZS5jb21wb25lbnQgPT09ICdJbm5lckxpbmsnKSB7CiAgICAgICAgcm91dGUuY29tcG9uZW50ID0gSW5uZXJMaW5rOwogICAgICB9IGVsc2UgewogICAgICAgIHJvdXRlLmNvbXBvbmVudCA9IGxvYWRWaWV3KHJvdXRlLmNvbXBvbmVudCk7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocm91dGUuY2hpbGRyZW4gIT0gbnVsbCAmJiByb3V0ZS5jaGlsZHJlbiAmJiByb3V0ZS5jaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgcm91dGUuY2hpbGRyZW4gPSBmaWx0ZXJBc3luY1JvdXRlcihyb3V0ZS5jaGlsZHJlbiwgcm91dGUsIHR5cGUpOwogICAgfSBlbHNlIHsKICAgICAgZGVsZXRlIHJvdXRlWydjaGlsZHJlbiddOwogICAgICBkZWxldGUgcm91dGVbJ3JlZGlyZWN0J107CiAgICB9CgogICAgcmV0dXJuIHRydWU7CiAgfSk7Cn0KCmZ1bmN0aW9uIGZpbHRlckNoaWxkcmVuKGNoaWxkcmVuTWFwKSB7CiAgdmFyIGxhc3RSb3V0ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlOwogIHZhciBjaGlsZHJlbiA9IFtdOwogIGNoaWxkcmVuTWFwLmZvckVhY2goZnVuY3Rpb24gKGVsLCBpbmRleCkgewogICAgaWYgKGVsLmNoaWxkcmVuICYmIGVsLmNoaWxkcmVuLmxlbmd0aCkgewogICAgICBpZiAoZWwuY29tcG9uZW50ID09PSAnUGFyZW50VmlldycpIHsKICAgICAgICBlbC5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgICBjLnBhdGggPSBlbC5wYXRoICsgJy8nICsgYy5wYXRoOwoKICAgICAgICAgIGlmIChjLmNoaWxkcmVuICYmIGMuY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgICAgIGNoaWxkcmVuID0gY2hpbGRyZW4uY29uY2F0KGZpbHRlckNoaWxkcmVuKGMuY2hpbGRyZW4sIGMpKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGNoaWxkcmVuLnB1c2goYyk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9CgogICAgaWYgKGxhc3RSb3V0ZXIpIHsKICAgICAgZWwucGF0aCA9IGxhc3RSb3V0ZXIucGF0aCArICcvJyArIGVsLnBhdGg7CiAgICB9CgogICAgY2hpbGRyZW4gPSBjaGlsZHJlbi5jb25jYXQoZWwpOwogIH0pOwogIHJldHVybiBjaGlsZHJlbjsKfQoKZXhwb3J0IHZhciBsb2FkVmlldyA9IGZ1bmN0aW9uIGxvYWRWaWV3KHZpZXcpIHsKICAvLyDot6/nlLHmh5LliqDovb0KICByZXR1cm4gZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgIHJldHVybiByZXF1aXJlKFsiQC92aWV3cy8iLmNvbmNhdCh2aWV3KV0sIHJlc29sdmUpOwogIH07Cn07CmV4cG9ydCBkZWZhdWx0IHBlcm1pc3Npb247"},{"version":3,"sources":["D:/work/dlksc/src/store/modules/permission.js"],"names":["constantRoutes","getRouters","Layout","ParentView","InnerLink","permission","state","routes","addRoutes","defaultRoutes","topbarRouters","sidebarRouters","mutations","SET_ROUTES","concat","SET_DEFAULT_ROUTES","SET_TOPBAR_ROUTES","index","path","meta","title","icon","SET_SIDEBAR_ROUTERS","actions","GenerateRoutes","commit","Promise","resolve","then","res","sdata","JSON","parse","stringify","data","rdata","sidebarRoutes","filterAsyncRouter","rewriteRoutes","push","redirect","hidden","asyncRouterMap","lastRouter","type","filter","route","children","filterChildren","component","loadView","length","childrenMap","forEach","el","c","view","require"],"mappings":";;;;;AAAA,SAASA,cAAT,QAA+B,UAA/B;AACA,SAASC,UAAT,QAA2B,YAA3B;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,SAAP,MAAsB,+BAAtB;AAEA,IAAMC,UAAU,GAAG;AACjBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,MAAM,EAAE,EADH;AAELC,IAAAA,SAAS,EAAE,EAFN;AAGLC,IAAAA,aAAa,EAAE,EAHV;AAILC,IAAAA,aAAa,EAAE,EAJV;AAKLC,IAAAA,cAAc,EAAE;AALX,GADU;AAQjBC,EAAAA,SAAS,EAAE;AACTC,IAAAA,UAAU,EAAE,oBAACP,KAAD,EAAQC,MAAR,EAAmB;AAC7BD,MAAAA,KAAK,CAACE,SAAN,GAAkBD,MAAlB;AACAD,MAAAA,KAAK,CAACC,MAAN,GAAeP,cAAc,CAACc,MAAf,CAAsBP,MAAtB,CAAf;AACD,KAJQ;AAKTQ,IAAAA,kBAAkB,EAAE,4BAACT,KAAD,EAAQC,MAAR,EAAmB;AACrCD,MAAAA,KAAK,CAACG,aAAN,GAAsBT,cAAc,CAACc,MAAf,CAAsBP,MAAtB,CAAtB;AACD,KAPQ;AAQTS,IAAAA,iBAAiB,EAAE,2BAACV,KAAD,EAAQC,MAAR,EAAmB;AACpC;AACA,UAAMU,KAAK,GAAG,CAAC;AACbC,QAAAA,IAAI,EAAE,OADO;AAEbC,QAAAA,IAAI,EAAE;AAAEC,UAAAA,KAAK,EAAE,MAAT;AAAiBC,UAAAA,IAAI,EAAE;AAAvB;AAFO,OAAD,CAAd;AAIAf,MAAAA,KAAK,CAACI,aAAN,GAAsBH,MAAM,CAACO,MAAP,CAAcG,KAAd,CAAtB;AACD,KAfQ;AAgBTK,IAAAA,mBAAmB,EAAE,6BAAChB,KAAD,EAAQC,MAAR,EAAmB;AACtCD,MAAAA,KAAK,CAACK,cAAN,GAAuBJ,MAAvB;AACD;AAlBQ,GARM;AA4BjBgB,EAAAA,OAAO,EAAE;AACP;AACAC,IAAAA,cAFO,gCAEoB;AAAA,UAAVC,MAAU,QAAVA,MAAU;AACzB,aAAO,IAAIC,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC5B;AACA1B,QAAAA,UAAU,GAAG2B,IAAb,CAAkB,UAAAC,GAAG,EAAI;AACvB,cAAMC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeJ,GAAG,CAACK,IAAnB,CAAX,CAAd;AACA,cAAMC,KAAK,GAAGJ,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeJ,GAAG,CAACK,IAAnB,CAAX,CAAd;AACA,cAAME,aAAa,GAAGC,iBAAiB,CAACP,KAAD,CAAvC;AACA,cAAMQ,aAAa,GAAGD,iBAAiB,CAACF,KAAD,EAAQ,KAAR,EAAe,IAAf,CAAvC;AACAG,UAAAA,aAAa,CAACC,IAAd,CAAmB;AAAErB,YAAAA,IAAI,EAAE,GAAR;AAAasB,YAAAA,QAAQ,EAAE,MAAvB;AAA+BC,YAAAA,MAAM,EAAE;AAAvC,WAAnB;AACAhB,UAAAA,MAAM,CAAC,YAAD,EAAea,aAAf,CAAN;AACAb,UAAAA,MAAM,CAAC,qBAAD,EAAwBzB,cAAc,CAACc,MAAf,CAAsBsB,aAAtB,CAAxB,CAAN;AACAX,UAAAA,MAAM,CAAC,oBAAD,EAAuBW,aAAvB,CAAN;AACAX,UAAAA,MAAM,CAAC,mBAAD,EAAsBW,aAAtB,CAAN;AACAT,UAAAA,OAAO,CAACW,aAAD,CAAP;AACD,SAXD;AAYD,OAdM,CAAP;AAeD;AAlBM;AA5BQ,CAAnB,C,CAkDA;;AACA,SAASD,iBAAT,CAA2BK,cAA3B,EAA6E;AAAA,MAAlCC,UAAkC,uEAArB,KAAqB;AAAA,MAAdC,IAAc,uEAAP,KAAO;AAC3E,SAAOF,cAAc,CAACG,MAAf,CAAsB,UAAAC,KAAK,EAAI;AACpC,QAAIF,IAAI,IAAIE,KAAK,CAACC,QAAlB,EAA4B;AAC1BD,MAAAA,KAAK,CAACC,QAAN,GAAiBC,cAAc,CAACF,KAAK,CAACC,QAAP,CAA/B;AACD;;AACD,QAAID,KAAK,CAACG,SAAV,EAAqB;AACnB;AACA,UAAIH,KAAK,CAACG,SAAN,KAAoB,QAAxB,EAAkC;AAChCH,QAAAA,KAAK,CAACG,SAAN,GAAkB/C,MAAlB;AACD,OAFD,MAEO,IAAI4C,KAAK,CAACG,SAAN,KAAoB,YAAxB,EAAsC;AAC3CH,QAAAA,KAAK,CAACG,SAAN,GAAkB9C,UAAlB;AACD,OAFM,MAEA,IAAI2C,KAAK,CAACG,SAAN,KAAoB,WAAxB,EAAqC;AAC1CH,QAAAA,KAAK,CAACG,SAAN,GAAkB7C,SAAlB;AACD,OAFM,MAEA;AACL0C,QAAAA,KAAK,CAACG,SAAN,GAAkBC,QAAQ,CAACJ,KAAK,CAACG,SAAP,CAA1B;AACD;AACF;;AACD,QAAIH,KAAK,CAACC,QAAN,IAAkB,IAAlB,IAA0BD,KAAK,CAACC,QAAhC,IAA4CD,KAAK,CAACC,QAAN,CAAeI,MAA/D,EAAuE;AACrEL,MAAAA,KAAK,CAACC,QAAN,GAAiBV,iBAAiB,CAACS,KAAK,CAACC,QAAP,EAAiBD,KAAjB,EAAwBF,IAAxB,CAAlC;AACD,KAFD,MAEO;AACL,aAAOE,KAAK,CAAC,UAAD,CAAZ;AACA,aAAOA,KAAK,CAAC,UAAD,CAAZ;AACD;;AACD,WAAO,IAAP;AACD,GAvBM,CAAP;AAwBD;;AAED,SAASE,cAAT,CAAwBI,WAAxB,EAAyD;AAAA,MAApBT,UAAoB,uEAAP,KAAO;AACvD,MAAII,QAAQ,GAAG,EAAf;AACAK,EAAAA,WAAW,CAACC,OAAZ,CAAoB,UAACC,EAAD,EAAKrC,KAAL,EAAe;AACjC,QAAIqC,EAAE,CAACP,QAAH,IAAeO,EAAE,CAACP,QAAH,CAAYI,MAA/B,EAAuC;AACrC,UAAIG,EAAE,CAACL,SAAH,KAAiB,YAArB,EAAmC;AACjCK,QAAAA,EAAE,CAACP,QAAH,CAAYM,OAAZ,CAAoB,UAAAE,CAAC,EAAI;AACvBA,UAAAA,CAAC,CAACrC,IAAF,GAASoC,EAAE,CAACpC,IAAH,GAAU,GAAV,GAAgBqC,CAAC,CAACrC,IAA3B;;AACA,cAAIqC,CAAC,CAACR,QAAF,IAAcQ,CAAC,CAACR,QAAF,CAAWI,MAA7B,EAAqC;AACnCJ,YAAAA,QAAQ,GAAGA,QAAQ,CAACjC,MAAT,CAAgBkC,cAAc,CAACO,CAAC,CAACR,QAAH,EAAaQ,CAAb,CAA9B,CAAX;AACA;AACD;;AACDR,UAAAA,QAAQ,CAACR,IAAT,CAAcgB,CAAd;AACD,SAPD;AAQA;AACD;AACF;;AACD,QAAIZ,UAAJ,EAAgB;AACdW,MAAAA,EAAE,CAACpC,IAAH,GAAUyB,UAAU,CAACzB,IAAX,GAAkB,GAAlB,GAAwBoC,EAAE,CAACpC,IAArC;AACD;;AACD6B,IAAAA,QAAQ,GAAGA,QAAQ,CAACjC,MAAT,CAAgBwC,EAAhB,CAAX;AACD,GAlBD;AAmBA,SAAOP,QAAP;AACD;;AAED,OAAO,IAAMG,QAAQ,GAAG,SAAXA,QAAW,CAACM,IAAD,EAAU;AAAE;AAClC,SAAO,UAAC7B,OAAD;AAAA,WAAa8B,OAAO,CAAC,mBAAYD,IAAZ,EAAD,EAAsB7B,OAAtB,CAApB;AAAA,GAAP;AACD,CAFM;AAIP,eAAetB,UAAf","sourcesContent":["import { constantRoutes } from '@/router'\nimport { getRouters } from '@/api/menu'\nimport Layout from '@/layout/index'\nimport ParentView from '@/components/ParentView';\nimport InnerLink from '@/layout/components/InnerLink'\n\nconst permission = {\n  state: {\n    routes: [],\n    addRoutes: [],\n    defaultRoutes: [],\n    topbarRouters: [],\n    sidebarRouters: []\n  },\n  mutations: {\n    SET_ROUTES: (state, routes) => {\n      state.addRoutes = routes\n      state.routes = constantRoutes.concat(routes)\n    },\n    SET_DEFAULT_ROUTES: (state, routes) => {\n      state.defaultRoutes = constantRoutes.concat(routes)\n    },\n    SET_TOPBAR_ROUTES: (state, routes) => {\n      // 顶部导航菜单默认添加统计报表栏指向首页\n      const index = [{\n        path: 'index',\n        meta: { title: '统计报表', icon: 'dashboard'}\n      }]\n      state.topbarRouters = routes.concat(index);\n    },\n    SET_SIDEBAR_ROUTERS: (state, routes) => {\n      state.sidebarRouters = routes\n    },\n  },\n  actions: {\n    // 生成路由\n    GenerateRoutes({ commit }) {\n      return new Promise(resolve => {\n        // 向后端请求路由数据\n        getRouters().then(res => {\n          const sdata = JSON.parse(JSON.stringify(res.data))\n          const rdata = JSON.parse(JSON.stringify(res.data))\n          const sidebarRoutes = filterAsyncRouter(sdata)\n          const rewriteRoutes = filterAsyncRouter(rdata, false, true)\n          rewriteRoutes.push({ path: '*', redirect: '/404', hidden: true })\n          commit('SET_ROUTES', rewriteRoutes)\n          commit('SET_SIDEBAR_ROUTERS', constantRoutes.concat(sidebarRoutes))\n          commit('SET_DEFAULT_ROUTES', sidebarRoutes)\n          commit('SET_TOPBAR_ROUTES', sidebarRoutes)\n          resolve(rewriteRoutes)\n        })\n      })\n    }\n  }\n}\n\n// 遍历后台传来的路由字符串，转换为组件对象\nfunction filterAsyncRouter(asyncRouterMap, lastRouter = false, type = false) {\n  return asyncRouterMap.filter(route => {\n    if (type && route.children) {\n      route.children = filterChildren(route.children)\n    }\n    if (route.component) {\n      // Layout ParentView 组件特殊处理\n      if (route.component === 'Layout') {\n        route.component = Layout\n      } else if (route.component === 'ParentView') {\n        route.component = ParentView\n      } else if (route.component === 'InnerLink') {\n        route.component = InnerLink\n      } else {\n        route.component = loadView(route.component)\n      }\n    }\n    if (route.children != null && route.children && route.children.length) {\n      route.children = filterAsyncRouter(route.children, route, type)\n    } else {\n      delete route['children']\n      delete route['redirect']\n    }\n    return true\n  })\n}\n\nfunction filterChildren(childrenMap, lastRouter = false) {\n  var children = []\n  childrenMap.forEach((el, index) => {\n    if (el.children && el.children.length) {\n      if (el.component === 'ParentView') {\n        el.children.forEach(c => {\n          c.path = el.path + '/' + c.path\n          if (c.children && c.children.length) {\n            children = children.concat(filterChildren(c.children, c))\n            return\n          }\n          children.push(c)\n        })\n        return\n      }\n    }\n    if (lastRouter) {\n      el.path = lastRouter.path + '/' + el.path\n    }\n    children = children.concat(el)\n  })\n  return children\n}\n\nexport const loadView = (view) => { // 路由懒加载\n  return (resolve) => require([`@/views/${view}`], resolve)\n}\n\nexport default permission\n"]}]}